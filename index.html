<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8" />
<title>Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ù…Ø¯ÙŠØ±</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<!-- Firebase v11 Modules -->
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.2/firebase-app.js";
  import { 
    getAuth, signInAnonymously, onAuthStateChanged 
  } from "https://www.gstatic.com/firebasejs/11.0.2/firebase-auth.js";
  import { 
    getFirestore, collection, doc, getDoc, getDocs, setDoc, updateDoc, query, where, onSnapshot, addDoc, serverTimestamp 
  } from "https://www.gstatic.com/firebasejs/11.0.2/firebase-firestore.js";

  /***** 1) Ø¥Ø¹Ø¯Ø§Ø¯ Firebase â€” Ø§Ø³ØªØ¨Ø¯Ù„ Ø¨Ù‡Ø°Ù‡ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø®Ø§ØµØ© Ø¨Ùƒ *****/
  const firebaseConfig = {
    apiKey: "AIzaSyBGFMZtSytIPzF4XYLyA34DpF5q_k-UPL8",
    authDomain: "fir-dba4c.firebaseapp.com",
    projectId: "fir-dba4c",
    storageBucket: "fir-dba4c.firebasestorage.app",
    messagingSenderId: "160255207915",
    appId: "1:160255207915:web:ce8e69d43f62daf476d1ae",
    measurementId: "G-GYPNMR85G2"
  };
  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);
  const db = getFirestore(app);

  /***** 2) Ø¹Ù†Ø§ØµØ± Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© *****/
  const loginView   = document.getElementById("loginView");
  const panelView   = document.getElementById("panelView");
  const whoSpan     = document.getElementById("whoami");
  const usersBody   = document.getElementById("usersBody");
  const searchBox   = document.getElementById("searchBox");
  const genHashBtn  = document.getElementById("genHashBtn");
  const hashOut     = document.getElementById("hashOut");

  const lgUser = document.getElementById("lgUser");
  const lgPass = document.getElementById("lgPass");
  const lgBtn  = document.getElementById("loginBtn");
  const logoutBtn = document.getElementById("logoutBtn");

  // Ù†Ø§ÙØ°Ø© ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
  const modal = document.getElementById("userModal");
  const closeModalBtn = document.getElementById("closeModal");
  const mName = document.getElementById("mName");
  const mEmail = document.getElementById("mEmail");
  const mTg = document.getElementById("mTg");
  const mIP = document.getElementById("mIP");
  const mBalance = document.getElementById("mBalance");
  const mBotStatus = document.getElementById("mBotStatus");
  const mSubEnd = document.getElementById("mSubEnd");
  const mGroupsCount = document.getElementById("mGroupsCount");
  const mGroupsList = document.getElementById("mGroupsList");
  const mUptime = document.getElementById("mUptime");
  const addBalInput = document.getElementById("addBalInput");
  const addBalBtn = document.getElementById("addBalBtn");
  const toggleBotBtn = document.getElementById("toggleBotBtn");
  const extend30Btn = document.getElementById("extend30Btn");
  const saveGroupsBtn = document.getElementById("saveGroupsBtn");
  const groupsTextarea = document.getElementById("groupsTextarea");

  let currentAdmin = null;     // Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ø¯Ù…Ù† Ø¨Ø¹Ø¯ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ (Ù…Ù† Firestore)
  let currentUserDocId = null; // Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ù…ÙØªÙˆØ­ ÙÙŠ Ø§Ù„Ù…ÙˆØ¯Ø§Ù„

  /***** 3) Ø£Ø¯ÙˆØ§Øª Ù…Ø³Ø§Ø¹Ø¯Ø© *****/
  async function sha256(text) {
    const enc = new TextEncoder().encode(text);
    const buf = await crypto.subtle.digest("SHA-256", enc);
    const arr = Array.from(new Uint8Array(buf));
    return arr.map(b => b.toString(16).padStart(2,"0")).join("");
  }

  function show(view) {
    loginView.style.display = (view === "login" ? "block" : "none");
    panelView.style.display = (view === "panel" ? "block" : "none");
  }

  function fmtMoney(n) {
    return (Number(n || 0)).toFixed(2);
  }

  function parseGroups(str) {
    return str.split("\n").map(s=>s.trim()).filter(Boolean);
  }

  /***** 4) ØªØ³Ø¬ÙŠÙ„ Ù…Ø¬Ù‡ÙˆÙ„ Ù„ÙØªØ­ ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„Ù‚Ø±Ø§Ø¡Ø© (Ø­Ø³Ø¨ Ø§Ù„Ù‚ÙˆØ§Ø¹Ø¯) *****/
  onAuthStateChanged(auth, async (fbUser) => {
    if (!fbUser) {
      await signInAnonymously(auth);
      return;
    }
    // Ù„Ùˆ Ø§Ù„Ø£Ø¯Ù…Ù† Ù…Ø³Ø¬Ù‘Ù„ Ù…Ø³Ø¨Ù‚Ù‹Ø§ ÙÙŠ localStorageØŒ Ø§ÙØªØ­ Ø§Ù„Ù„ÙˆØ­Ø©
    const cached = localStorage.getItem("adminDoc");
    if (cached) {
      currentAdmin = JSON.parse(cached);
      whoSpan.textContent = currentAdmin.displayName || currentAdmin.username || "Ù…Ø¯ÙŠØ±";
      show("panel");
      startUsersListener();
    } else {
      show("login");
    }
  });

  /***** 5) ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø£Ø¯Ù…Ù† (username + passwordHash ÙÙŠ Firestore) *****/
  lgBtn.addEventListener("click", async () => {
    const u = lgUser.value.trim();
    const p = lgPass.value;
    if (!u || !p) return alert("Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙˆÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±");
    const hash = await sha256(p);

    // Ø§Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ø£Ø¯Ù…Ù†
    const q = query(collection(db, "admins"), where("username", "==", u), where("passwordHash", "==", hash));
    const snap = await getDocs(q);
    if (snap.empty) {
      alert("Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¯Ø®ÙˆÙ„ ØºÙŠØ± ØµØ­ÙŠØ­Ø©");
      return;
    }
    const docRef = snap.docs[0];
    currentAdmin = { id: docRef.id, ...docRef.data() };
    localStorage.setItem("adminDoc", JSON.stringify(currentAdmin));
    whoSpan.textContent = currentAdmin.displayName || currentAdmin.username || "Ù…Ø¯ÙŠØ±";
    show("panel");
    startUsersListener();
  });

  logoutBtn.addEventListener("click", () => {
    localStorage.removeItem("adminDoc");
    currentAdmin = null;
    show("login");
  });

  // Ù…ÙˆÙ„Ù‘Ø¯ Ù‡Ø§Ø´ (ÙŠØ³Ø§Ø¹Ø¯Ùƒ ØªØ¶ÙŠÙ Ø£Ø¯Ù…Ù† Ø¬Ø¯ÙŠØ¯ ÙÙŠ Firestore)
  genHashBtn.addEventListener("click", async () => {
    const p = prompt("Ø§ÙƒØªØ¨ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„ØªÙŠ ØªØ±ÙŠØ¯ ØªØ­ÙˆÙŠÙ„Ù‡Ø§ Ø¥Ù„Ù‰ SHA-256:");
    if (!p) return;
    hashOut.value = await sha256(p);
    hashOut.select();
    document.execCommand("copy");
    alert("ØªÙ… Ù†Ø³Ø® Ø§Ù„Ù‡Ø§Ø´. Ø£Ø¶ÙÙ‡ ÙÙŠ admins.passwordHash");
  });

  /***** 6) ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† + Ø¨Ø­Ø« *****/
  let unsubUsers = null;
  function startUsersListener() {
    if (unsubUsers) { unsubUsers(); unsubUsers = null; }
    unsubUsers = onSnapshot(collection(db, "users"), (snapshot) => {
      usersBody.innerHTML = "";
      snapshot.forEach(docSnap => {
        const u = docSnap.data();
        const tr = document.createElement("tr");
        tr.innerHTML = `
          <td>${u.name || "-"}</td>
          <td>${u.email || "-"}</td>
          <td>${u.telegram_id || "-"}</td>
          <td>${fmtMoney(u.balance)}</td>
          <td>${u.botActive ? "âœ… Ù…ÙØ¹Ù„" : "âŒ Ù…ØªÙˆÙ‚Ù"}</td>
          <td>
            <button class="btn" data-id="${docSnap.id}">ÙØªØ­ Ø§Ù„Ø¨ÙˆØª</button>
          </td>
        `;
        usersBody.appendChild(tr);
      });
    });

    // ÙØªØ­ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
    usersBody.addEventListener("click", async (e) => {
      if (e.target.tagName === "BUTTON" && e.target.dataset.id) {
        openUserModal(e.target.dataset.id);
      }
    });

    // Ø¨Ø­Ø« Ø¨Ø³ÙŠØ· Ø¯Ø§Ø®Ù„ Ø§Ù„Ø¬Ø¯ÙˆÙ„
    searchBox.addEventListener("keyup", () => {
      const f = searchBox.value.trim().toLowerCase();
      const rows = usersBody.querySelectorAll("tr");
      rows.forEach(r => {
        const t = r.innerText.toLowerCase();
        r.style.display = t.includes(f) ? "" : "none";
      });
    });
  }

  /***** 7) Ù†Ø§ÙØ°Ø© ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… + Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª *****/
  async function openUserModal(userId) {
    currentUserDocId = userId;
    const ref = doc(db, "users", userId);
    const s = await getDoc(ref);
    if (!s.exists()) return alert("Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯");
    const u = s.data();

    mName.textContent = u.name || "-";
    mEmail.textContent = u.email || "-";
    mTg.textContent = u.telegram_id || "-";
    mIP.textContent = u.ip || "-";
    mBalance.textContent = fmtMoney(u.balance);
    mBotStatus.textContent = u.botActive ? "âœ… Ø´ØºØ§Ù„" : "âŒ Ù…ØªÙˆÙ‚Ù";

    const sub = u.subscription || {};
    mSubEnd.textContent = sub.end || "-";

    const groups = (sub.groups || []);
    mGroupsCount.textContent = groups.length;
    mGroupsList.innerHTML = groups.length ? groups.map(g=>`<li>${g}</li>`).join("") : "<li>Ù„Ø§ ÙŠÙˆØ¬Ø¯</li>";
    groupsTextarea.value = groups.join("\n");

    // Ø¹Ø¯Ù‘Ø§Ø¯ ØªØ´ØºÙŠÙ„ (ØªÙ‚Ø±ÙŠØ¨ÙŠ): Ø¥Ù† Ù„Ù… ØªÙƒÙ† ØªØ­ÙØ¸ startAtØ› Ù†Ø³ØªØ®Ø¯Ù… createdAt ÙƒØ¨Ø¯Ø§ÙŠØ©
    const startISO = u.startAt || u.createdAt;
    if (startISO) {
      updateUptime(startISO);
      if (window.__uptimer) clearInterval(window.__uptimer);
      window.__uptimer = setInterval(()=>updateUptime(startISO), 1000);
    } else {
      mUptime.textContent = "-";
    }

    modal.style.display = "block";
  }

  function updateUptime(iso) {
    const start = new Date(iso);
    const now = new Date();
    const diff = Math.max(0, now - start);
    const s = Math.floor(diff/1000);
    const h = Math.floor(s/3600);
    const m = Math.floor((s%3600)/60);
    const sec = s%60;
    mUptime.textContent = `${h}Ø³ ${m}Ø¯ ${sec}Ø«`;
  }

  closeModalBtn.addEventListener("click", () => {
    modal.style.display = "none";
    if (window.__uptimer) clearInterval(window.__uptimer);
  });

  // Ø¥Ø¶Ø§ÙØ© Ø±ØµÙŠØ¯
  addBalBtn.addEventListener("click", async () => {
    if (!currentUserDocId) return;
    const v = parseFloat(addBalInput.value);
    if (isNaN(v)) return alert("Ø§ÙƒØªØ¨ Ù…Ø¨Ù„Øº ØµØ­ÙŠØ­");
    const ref = doc(db, "users", currentUserDocId);
    const s = await getDoc(ref);
    const u = s.data();
    const nb = (u.balance || 0) + v;
    await updateDoc(ref, { balance: nb });
    await logAudit({ action:"add_balance", amount:v, target: currentUserDocId });
    mBalance.textContent = fmtMoney(nb);
    addBalInput.value = "";
    alert("ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø±ØµÙŠØ¯");
  });

  // ØªÙØ¹ÙŠÙ„/Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„Ø¨ÙˆØª
  toggleBotBtn.addEventListener("click", async () => {
    if (!currentUserDocId) return;
    const ref = doc(db, "users", currentUserDocId);
    const s = await getDoc(ref);
    const u = s.data();
    const newState = !(u.botActive);
    await updateDoc(ref, { botActive: newState });
    await logAudit({ action:"toggle_bot", botActive:newState, target: currentUserDocId });
    mBotStatus.textContent = newState ? "âœ… Ø´ØºØ§Ù„" : "âŒ Ù…ØªÙˆÙ‚Ù";
  });

  // ØªÙ…Ø¯ÙŠØ¯ 30 ÙŠÙˆÙ…
  extend30Btn.addEventListener("click", async () => {
    if (!currentUserDocId) return;
    const ref = doc(db, "users", currentUserDocId);
    const s = await getDoc(ref);
    const u = s.data();
    const sub = u.subscription || {};
    const base = sub.end ? new Date(sub.end) : new Date();
    base.setMonth(base.getMonth() + 1);
    const newEnd = base.toISOString().split("T")[0];
    await updateDoc(ref, { subscription: { ...(sub || {}), active: true, end: newEnd, groups: sub.groups || [] } });
    await logAudit({ action:"extend_subscription", days:30, target: currentUserDocId });
    mSubEnd.textContent = newEnd;
    alert("ØªÙ… Ø§Ù„ØªÙ…Ø¯ÙŠØ¯ 30 ÙŠÙˆÙ…");
  });

  // Ø­ÙØ¸ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø§Øª
  saveGroupsBtn.addEventListener("click", async () => {
    if (!currentUserDocId) return;
    const ref = doc(db, "users", currentUserDocId);
    const s = await getDoc(ref);
    const u = s.data();
    const sub = u.subscription || {};
    const groups = parseGroups(groupsTextarea.value);
    if (groups.length > 3) return alert("Ù…Ø³Ù…ÙˆØ­ Ø¨Ø­Ø¯ Ø£Ù‚ØµÙ‰ 3 Ù…Ø¬Ù…ÙˆØ¹Ø§Øª");
    await updateDoc(ref, { subscription: { ...(sub || {}), groups, active: sub.active ?? true, end: sub.end || null } });
    await logAudit({ action:"save_groups", groups, target: currentUserDocId });
    mGroupsCount.textContent = groups.length;
    mGroupsList.innerHTML = groups.length ? groups.map(g=>`<li>${g}</li>`).join("") : "<li>Ù„Ø§ ÙŠÙˆØ¬Ø¯</li>";
    alert("ØªÙ… Ø­ÙØ¸ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø§Øª");
  });

  /***** 8) Ø³Ø¬Ù„ Ø§Ù„ØªØ¯Ù‚ÙŠÙ‚ (Audit Log) *****/
  async function logAudit(obj) {
    try {
      await addDoc(collection(db, "audit"), {
        ...obj,
        adminId: currentAdmin?.id || null,
        adminName: currentAdmin?.displayName || currentAdmin?.username || null,
        at: serverTimestamp()
      });
    } catch(e) {
      console.warn("audit log failed", e);
    }
  }
</script>
<style>
  body{font-family:Tajawal,Arial; background:#f5f7fb; margin:0; padding:20px;}
  .card{background:#fff;border-radius:14px;box-shadow:0 6px 20px rgba(0,0,0,.06);padding:16px;margin:0 auto;max-width:1100px;}
  h2{margin:4px 0 16px;}
  .row{display:flex;gap:12px;align-items:center;flex-wrap:wrap}
  input,textarea,button{font:inherit}
  input,textarea{border:1px solid #ddd;border-radius:10px;padding:10px}
  button.btn{background:#0070ba;color:#fff;border:none;border-radius:10px;padding:8px 14px;cursor:pointer}
  button.btn:hover{opacity:.9}
  table{width:100%;border-collapse:collapse;margin-top:14px}
  th,td{border-bottom:1px solid #eee;padding:10px;text-align:center}
  th{background:#0d6efd;color:#fff}
  /* Views */
  #loginView{display:none}
  #panelView{display:none}
  .badge{display:inline-block;padding:3px 8px;border-radius:9px;background:#eef;color:#333}
  /* Modal */
  .modal{display:none;position:fixed;inset:0;background:rgba(0,0,0,.35);justify-content:center;align-items:flex-start;padding-top:40px;z-index:50}
  .modal .box{background:#fff;border-radius:14px;max-width:720px;width:96%;padding:16px}
  .grid2{display:grid;grid-template-columns:1fr 1fr;gap:10px}
  .muted{color:#666}
  .tools{display:flex;gap:8px;flex-wrap:wrap;margin-top:10px}
  .danger{background:#dc3545}
  .ok{background:#28a745}
  .warn{background:#f59e0b}
</style>
</head>
<body>

  <!-- Ø´Ø§Ø´Ø© ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø£Ø¯Ù…Ù† -->
  <div id="loginView" class="card">
    <h2>ğŸ” ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø£Ø¯Ù…Ù†</h2>
    <div class="row">
      <label>Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…:</label>
      <input id="lgUser" placeholder="username" />
      <label>ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±:</label>
      <input id="lgPass" type="password" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" />
      <button id="loginBtn" class="btn">Ø¯Ø®ÙˆÙ„</button>
    </div>

    <hr>
    <div class="row">
      <button id="genHashBtn" class="btn warn">ØªÙˆÙ„ÙŠØ¯ SHA-256 Ù„ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ±</button>
      <input id="hashOut" readonly style="flex:1" placeholder="ÙŠØ¸Ù‡Ø± Ù‡Ù†Ø§ Ø§Ù„Ù‡Ø§Ø´ Ù„ØªØ¶Ø¹Ù‡ Ø¨Ù€Ù€ admins.passwordHash" />
    </div>
    <p class="muted">Ù…Ù„Ø§Ø­Ø¸Ø©: ÙŠØªÙ… ØªØ®Ø²ÙŠÙ† ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…Ø±ÙˆØ± ÙÙŠ Firestore Ø¨Ø´ÙƒÙ„ <b>Ù‡Ø§Ø´</b> ÙÙ‚Ø·. Ù„Ø§ ØªØ®Ø²Ù†Ù‡Ø§ ÙƒÙ†Øµ ØµØ±ÙŠØ­.</p>
  </div>

  <!-- Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… -->
  <div id="panelView" class="card">
    <div class="row" style="justify-content:space-between">
      <h2>ğŸ“Š Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ù…Ø¯ÙŠØ±</h2>
      <div>
        <span class="badge">Ù…Ø±Ø­Ø¨Ù‹Ø§ØŒ <b id="whoami">Ù…Ø¯ÙŠØ±</b></span>
        <button id="logoutBtn" class="btn danger" style="margin-inline-start:10px">ØªØ³Ø¬ÙŠÙ„ Ø®Ø±ÙˆØ¬</button>
      </div>
    </div>

    <div class="row" style="margin-top:10px">
      <input id="searchBox" style="flex:1" placeholder="Ø§Ø¨Ø­Ø« Ø¨Ø§Ø³Ù…/Ø¥ÙŠÙ…ÙŠÙ„/ØªÙ„ÙŠØ¬Ø±Ø§Ù…..." />
    </div>

    <table>
      <thead>
        <tr>
          <th>Ø§Ù„Ø§Ø³Ù…</th>
          <th>Ø§Ù„Ø¥ÙŠÙ…ÙŠÙ„</th>
          <th>ØªÙ„ÙŠØ¬Ø±Ø§Ù…</th>
          <th>Ø§Ù„Ø±ØµÙŠØ¯</th>
          <th>Ø­Ø§Ù„Ø© Ø§Ù„Ø¨ÙˆØª</th>
          <th>Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª</th>
        </tr>
      </thead>
      <tbody id="usersBody"></tbody>
    </table>
  </div>

  <!-- Ù†Ø§ÙØ°Ø© ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… -->
  <div id="userModal" class="modal">
    <div class="box">
      <div class="row" style="justify-content:space-between">
        <h3>ğŸ‘¤ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…</h3>
        <button id="closeModal" class="btn danger">Ø¥ØºÙ„Ø§Ù‚</button>
      </div>
      <div class="grid2">
        <div>
          <p><b>Ø§Ù„Ø§Ø³Ù…:</b> <span id="mName">-</span></p>
          <p><b>Ø§Ù„Ø¥ÙŠÙ…ÙŠÙ„:</b> <span id="mEmail">-</span></p>
          <p><b>ØªÙ„ÙŠØ¬Ø±Ø§Ù…:</b> <span id="mTg">-</span></p>
          <p><b>IP:</b> <span id="mIP">-</span></p>
        </div>
        <div>
          <p><b>Ø§Ù„Ø±ØµÙŠØ¯:</b> <span id="mBalance">0.00</span> $</p>
          <p><b>Ø­Ø§Ù„Ø© Ø§Ù„Ø¨ÙˆØª:</b> <span id="mBotStatus">-</span></p>
          <p><b>Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ:</b> <span id="mSubEnd">-</span></p>
          <p><b>Ù…Ø¯Ø© Ø§Ù„ØªØ´ØºÙŠÙ„:</b> <span id="mUptime">-</span></p>
        </div>
      </div>

      <hr>
      <h4>ğŸ“¦ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø§Øª Ø§Ù„Ù…ÙØ¹Ù„Ø© (<span id="mGroupsCount">0</span>)</h4>
      <ul id="mGroupsList" class="muted" style="min-height:24px"></ul>

      <h4>ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø§Øª (Ø¨Ø­Ø¯ Ø£Ù‚ØµÙ‰ 3)</h4>
      <textarea id="groupsTextarea" rows="4" placeholder="-100111
-100222
-100333"></textarea>
      <div class="tools">
        <button id="saveGroupsBtn" class="btn ok">Ø­ÙØ¸ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø§Øª</button>
      </div>

      <hr>
      <h4>ğŸ’³ Ø§Ù„Ø£Ø±ØµØ¯Ø© ÙˆØ§Ù„Ø§Ø´ØªØ±Ø§ÙƒØ§Øª</h4>
      <div class="tools">
        <input id="addBalInput" type="number" step="0.01" placeholder="+ Ù…Ø¨Ù„Øº" />
        <button id="addBalBtn" class="btn">Ø¥Ø¶Ø§ÙØ© Ø±ØµÙŠØ¯</button>
        <button id="extend30Btn" class="btn warn">ØªÙ…Ø¯ÙŠØ¯ 30 ÙŠÙˆÙ…</button>
        <button id="toggleBotBtn" class="btn danger">ØªÙØ¹ÙŠÙ„/Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„Ø¨ÙˆØª</button>
      </div>
    </div>
  </div>

</body>
</html>
